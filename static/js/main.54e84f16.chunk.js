(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,n){e.exports=n(259)},259:function(e,t,n){"use strict";n.r(t);for(var a=n(1),r=n.n(a),i=n(15),s=n.n(i),l=n(41),c=n(16),o=n(17),u=n(29),m=n(19),p=n(30),h=n(22),f=n.n(h),d=n(43),g=n.n(d),v=n(18),b=n(96),w=n.n(b),y=n(97),E=n.n(y),j=n(42),k=n.n(j),O=n(98),N=n.n(O),x=n(101),C=n.n(x),H=n(100),S=n.n(H),T=n(99),R=n.n(T),B=Object(v.withStyles)({appBar:{},grow:{flexGrow:1},avatar:{width:34,height:34}})(function(e){var t=e.classes,n=e.anchor,a=e.user,i=e.authHandler,s=e.menuHandler,l=Boolean(n);return r.a.createElement(w.a,{position:"static",className:t.appBar},r.a.createElement(E.a,null,r.a.createElement(k.a,{variant:"h6",color:"inherit",className:t.grow},"Data grabber"),a&&r.a.createElement("div",null,r.a.createElement(N.a,{"aria-owns":l?"menu-appbar":void 0,"aria-haspopup":"true",onClick:s(!0),color:"inherit"},r.a.createElement(R.a,{alt:a.getName(),src:a.getImageUrl(),className:t.avatar})),r.a.createElement(S.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:l,onClose:s(!1)},r.a.createElement(C.a,{onClick:i},"Logout"))),!a&&r.a.createElement(f.a,{className:t.button,color:"inherit",onClick:i},"Login")))}),P=n(31),I=n.n(P),L=function(e){var t=e.label,n=e.value,a=e.onChange;return r.a.createElement(I.a,{label:t,fullWidth:!0,multiline:!0,variant:"outlined",value:n,onChange:a})},q=n(102),A=n.n(q),X=Object(v.withStyles)({checkLabel:{margin:5,fontSize:"1em",textTransform:"uppercase",cursor:"pointer"}})(function(e){var t=e.classes,n=(e.className,e.children),a=e.value,i=e.checked,s=e.onChange;return r.a.createElement(k.a,{className:t.checkLabel,onClick:function(e){s(e,!i&&a)},style:{color:i?"#f50057":"#9e9e9e"}},n)}),z=Object(v.withStyles)({row:{display:"flex",alignItems:"center",marginTop:10,marginBottom:10},flags:{marginLeft:20,marginRight:20,minWidth:80}})(function(e){var t=e.className,n=e.classes,a=e.value,i=e.onChange,s=e.onCheck,l=e.onRemove,c=e.onFocus,o=e.onBlur,u=a.name,m=a.flags,p=a.pattern,h=a.item;return r.a.createElement("div",{className:t},r.a.createElement("div",{className:n.row},r.a.createElement(I.a,{fullWidth:!0,label:"Name",variant:"outlined",value:u,onChange:i("name")}),r.a.createElement(A.a,{row:!0,className:n.flags},Object.keys(m).map(function(e){return r.a.createElement(X,{key:e,value:e,checked:m[e],onChange:s(e)},e)})),r.a.createElement(f.a,{variant:"outlined",color:"secondary",onClick:l},"Remove")),r.a.createElement("div",{className:n.row},r.a.createElement(I.a,{fullWidth:!0,variant:"outlined",label:"Pattern",value:p,onChange:i("pattern"),onFocus:c,onInput:c,onBlur:o})),r.a.createElement("div",{className:n.row},r.a.createElement(I.a,{fullWidth:!0,variant:"outlined",label:"Item",value:h,onChange:i("item")})))}),W=n(105),M=n(34),D={},F=1;F<10;F++)D["hl-".concat(F)]={background:"hsl(".concat(120*(1-F/5),", 100%, 50%)")};var $=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={status:null,lastRegExp:""},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.value,i=t.parameter,s=t.classes,l=this.state,c=l.status,o=l.lastRegExp,u=i.pattern+i.flagsToString();return o!==u&&function(e,t){return new Promise(function(n,a){var r=new RegExp(t.pattern,t.flagsToString()),i=e.match(r);i||a({error:"No matches"}),(i=i.map(function(t){return{from:e.indexOf(t),length:t.length,element:t,inner:[]}})).sort(function(e,t){return t.from+t.length-(e.from+e.length)});for(var s=i.length-1;s>0;){var l,c=i[s],o=i[s-1];o.from+o.length>=c.from+c.length&&(l=o.inner).push.apply(l,Object(M.a)(i.splice(s,1))),s--}n(i)})}(a,i).then(function(e){return function(e,t,n){return new Promise(function(a,i){t||i({error:"No matches"}),a(function e(t,a){var i=[],s=t.element,l=!0,c=!1,o=void 0;try{for(var u,m=t.inner[Symbol.iterator]();!(l=(u=m.next()).done);l=!0){var p=u.value,h=s.split(p.element),f=Object(W.a)(h,2),d=f[0],g=f[1];(d=d.split("\n")).length>1&&(d=d.map(function(e){return r.a.createElement("div",null,e)})),i=[].concat(Object(M.a)(i),Object(M.a)(d),[e(p,a+1)]),s=g}}catch(w){c=!0,o=w}finally{try{l||null==m.return||m.return()}finally{if(c)throw o}}if(s.length){var v,b=s.split("\n");b.length>1?(v=i).push.apply(v,Object(M.a)(b.map(function(e){return r.a.createElement("div",null,e)}))):i.push(s)}return r.a.createElement("span",{className:n["hl-".concat(a)]},i.filter(function(e){return Boolean(e)}))}({inner:t,element:e},0))})}(a,e,s)}).then(function(t){return e.setState({status:t,lastRegExp:u})}).catch(function(t){var n=t.error;return e.setState({status:n,lastRegExp:u})}),r.a.createElement("div",{className:n},c||a.split("\n").map(function(e,t){return r.a.createElement("div",{key:t},e)}))}}]),t}(a.Component),Q=Object(v.withStyles)(D)($),Y=n(106),J=n(107),U={apiKey:"AIzaSyA0rvMrNVWVhm8HNd56eY64OXhVEVIxqlQ",clientId:"169025190639-ktoqejmqod0hcfh8pbt7hknbg8apfps9.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/script.external_request",discoveryDocs:["https://script.googleapis.com/$discovery/rest?version=v1"]},V=function(e){function t(e){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).call(this,U,e))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"fetch",value:function(e){var n={function:"fetch",parameters:[e],devMode:!1};return Object(Y.a)(Object(m.a)(t.prototype),"execute",this).call(this,function(e){return{root:"https://script.googleapis.com",path:"v1/scripts/M1qUJ-bECOgm4Y9z9evwE5gNpR_a-QLCI:run",method:"POST",body:e}}(n))}}]),t}(J.a),_=n(103),G=function(){function e(t){var n=t.name,a=void 0===n?"Parameter":n,r=t.pattern,i=void 0===r?"":r,s=t.item,l=void 0===s?"":s,o=t.flags,u=void 0===o?null:o;Object(c.a)(this,e),this.name="Parameter",this.pattern="",this.item="",this.flags={i:!0,g:!1,m:!1,s:!1},this.name=a,this.pattern=i,this.item=l,u&&(this.flags=Object(_.a)({},this.flags,u))}return Object(o.a)(e,[{key:"flagsToString",value:function(){for(var e="",t=Object.keys(this.flags),n=0;n<t.length;n++){var a=t[n];this.flags[a]&&(e+=a)}return e}}]),e}(),K=n(59),Z=n.n(K),ee=n(104),te=function(){function e(t){Object(c.a)(this,e),this.name=t.name,this.item=t.item,this.expression=new RegExp(t.pattern,t.flagsToString())}return Object(o.a)(e,[{key:"apply",value:function(e){var t=this,n="";return e.replace(this.expression,function(e){n+=e.replace(t.expression,t.item)}),n}}]),e}();function ne(e,t){var n=e.map(function(e){return new te(e)});return function(e){var a=e.link,r=e.text,i=n.reduce(function(e,t){return e[t.name]=t.apply(r),e},{link:a});return t.replace(/%(.+?)%/g,function(e,t){return i[t]})}}function ae(){return(ae=Object(ee.a)(Z.a.mark(function e(t,n,a,r){var i,s;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=ne(a,r),e.next=3,Promise.all(n.map(function(e){return t(e)})).then(function(e){return e.map(function(e,t){return{link:n[t],text:e.result.response.result}})});case 3:return s=e.sent,e.abrupt("return",s.map(function(e){return i(e)}));case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var re='<!doctype html>\n<html class="no-js" lang="">\n\n<head>\n  <meta charset="utf-8">\n  <meta http-equiv="x-ua-compatible" content="ie=edge">\n  <title>Title</title>\n  <meta name="description" content="">\n  <meta name="viewport" content="width=device-width, initial-scale=1">\n\n  <link rel="manifest" href="site.webmanifest">\n  <link rel="apple-touch-icon" href="icon.png">\n  \x3c!-- Place favicon.ico in the root directory --\x3e\n\n  <link rel="stylesheet" href="css/normalize.css">\n  <link rel="stylesheet" href="css/main.css">\n</head>\n\n<body>\n  \x3c!--[if lte IE 9]>\n    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>\n  <![endif]--\x3e\n\n  \x3c!-- Add your site or application content here --\x3e\n  <p>Hello world! This is HTML5 Boilerplate.</p>\n  <script src="js/vendor/modernizr-3.6.0.min.js"><\/script>\n  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"><\/script>\n  <script>window.jQuery || document.write(\'<script src="js/vendor/jquery-3.3.1.min.js"><\/script>\')<\/script>\n  <script src="js/plugins.js"><\/script>\n  <script src="js/main.js"><\/script>\n\n  \x3c!-- Google Analytics: change UA-XXXXX-Y to be your site\'s ID. --\x3e\n  <script>\n    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;\n    ga(\'create\', \'UA-XXXXX-Y\', \'auto\'); ga(\'send\', \'pageview\')\n  <\/script>\n  <script src="https://www.google-analytics.com/analytics.js" async defer><\/script>\n</body>\n\n</html>',ie=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={links:"https://reactjs.org\nhttps://learn.javascript.ru",parameters:[new G({name:"Title",pattern:"<title.*?>(.+)<\\/title>",item:"$1",flags:{s:!0}}),new G({name:"Links",pattern:'<a.+?href="(http.+?)".*?>([^<>]+?)<\\/a>',item:'<li>$2: <a href="$1">$1</a></li>',flags:{g:!0}})],testText:re,testedParameter:null,stateName:"none",itemsContainer:"<b>%Title%</b><br><ul>%Links%</ul>",result:[],user:null,anchorEl:null},n.api=null,n.menuHandler=function(e){return function(t){n.setState({anchorEl:e?t.currentTarget:null})}},n.authHandler=function(){n.api.authorize()},n.changeHandler=function(e){return function(t){n.setState(Object(l.a)({},e,t.target.value))}},n.runHandler=function(){var e=n.state,t=e.parameters,a=e.itemsContainer,r=e.links;(function(e,t,n,a){return ae.apply(this,arguments)})(n.api.fetch.bind(n.api),r.split("\n"),t,a).then(function(e){return n.setState({result:e})})},n.parameterChangeHandler=function(e){return function(t){return function(a){var r=a.target.value;n.setState(function(n){var a=n.parameters;return a[e][t]=r,{parameters:a}})}}},n.parameterCheckHandler=function(e){return function(t){return function(a,r){n.setState(function(n){var a=n.parameters;return a[e].flags[t]=r,{parameters:a}})}}},n.parameterDeleteHandler=function(e){return function(){n.setState(function(t){var n=t.parameters;return n.splice(e,1),{parameters:n}})}},n.parameterAddHandler=function(){n.setState(function(e){var t=e.parameters;return t.push(new G({})),{parameters:t}})},n.parameterFocusHandler=function(e){return function(){return n.setState(function(t){return{stateName:"test",testedParameter:t.parameters[e]}})}},n.parameterBlurHandler=function(e){return function(){return n.setState(function(){return{stateName:"none",testedParameter:null}})}},n.editHandler=function(){return n.setState(function(e){return{stateName:"edit"===e.stateName?"none":"edit"}})},n.api=new V(function(e){return n.setState({user:e?n.api.user.getBasicProfile():null,anchorEl:null})}),n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state,a=n.links,i=n.parameters,s=n.itemsContainer,l=n.user,c=n.result,o=n.anchorEl,u=n.stateName,m=n.testText,p=n.testedParameter;return r.a.createElement("div",{className:t.root},r.a.createElement(B,{anchor:o,user:l,authHandler:this.authHandler,menuHandler:this.menuHandler}),r.a.createElement(g.a,{container:!0},r.a.createElement(g.a,{item:!0,xs:12,lg:6},r.a.createElement("div",{className:t.wrapper},r.a.createElement("div",{className:t.container},r.a.createElement(L,{label:"Links",value:a,onChange:this.changeHandler("links")})),r.a.createElement("div",{className:t.container},r.a.createElement(f.a,{variant:"outlined",color:"primary",className:t.button,onClick:this.runHandler,disabled:!l},"Run"),r.a.createElement(f.a,{variant:"outlined",className:t.button,onClick:this.parameterAddHandler},"Add"),r.a.createElement(f.a,{variant:"outlined",className:t.button,onClick:this.editHandler},"edit"===u?"Save":"Edit")),i.map(function(n,a){return r.a.createElement(z,{key:a,className:t.container,value:n,onChange:e.parameterChangeHandler(a),onCheck:e.parameterCheckHandler(a),onRemove:e.parameterDeleteHandler(a),onFocus:e.parameterFocusHandler(a),onBlur:e.parameterBlurHandler(a)})}))),r.a.createElement(g.a,{item:!0,xs:12,lg:6},r.a.createElement("div",{className:t.wrapper},r.a.createElement("div",{className:t.container},r.a.createElement(L,{label:"Items container",value:s,onChange:this.changeHandler("itemsContainer")})),"edit"===u&&r.a.createElement("div",{className:t.container},r.a.createElement(L,{label:"Test text",value:m,onChange:this.changeHandler("testText")})),"test"===u&&r.a.createElement(Q,{parameter:p,value:m}),c.length>0&&c.map(function(e,n){return r.a.createElement("div",{key:n,className:t.container,dangerouslySetInnerHTML:{__html:e}})})))))}}]),t}(a.Component),se=Object(v.withStyles)({root:{flexGrow:1},wrapper:{width:"90%",margin:"0 auto"},container:{padding:20},button:{marginRight:20}})(ie);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[108,2,1]]]);
//# sourceMappingURL=main.54e84f16.chunk.js.map