(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,a){e.exports=a(262)},262:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(15),s=a.n(i),l=a(95),o=a(104),u=a(96),c=a(105),h=a(18),m=a(19),p=a(26),g=a.n(p),d=a(40),f=a.n(d),v=a(97),b=a.n(v),w=a(99),E=a.n(w),y=a(55),S=a.n(y),k=a(17),O=a.n(k),x=a(39),j=a.n(x),U=a(101),N=a.n(U),H=a(102),A=a.n(H),C=a(103),I=a.n(C),z=a(57),P=a.n(z),W=a(100),_=a.n(W),B=a(56),q=new(function(){function e(t){var a=this;Object(h.a)(this,e),this.isAuthorized=!1,this.onStatusUpdate=null,this.user=null,this.onUserUpdate=null,this.scriptId="M1qUJ-bECOgm4Y9z9evwE5gNpR_a-QLCI",this._satusUpdate=function(e){a.isAuthorized=e,a.onStatusUpdate&&a.onStatusUpdate(e)},this._userUpdate=function(e){a.user=e,a.onUserUpdate&&a.onUserUpdate(a.user)};var n=function(){a.googleAuth=a.gapi.auth2.getAuthInstance(),a.googleAuth.isSignedIn.listen(a._satusUpdate),a.googleAuth.currentUser.listen(a._userUpdate),a._satusUpdate(a.googleAuth.isSignedIn.get()),a.isAuthorized&&a._userUpdate(a.googleAuth.currentUser.get())},r=function(){a.gapi.client.init(t).then(n)},i=function(){a.gapi=window.gapi,a.gapi.load("client:auth2",r)};window.gapi?i():window.addEventListener("gapiLoaded",i)}return Object(m.a)(e,[{key:"authorize",value:function(){return this.isAuthorized?this.googleAuth.signOut():this.googleAuth.signIn()}},{key:"fetch",value:function(e){var t={function:"fetch",parameters:[e],devMode:!0},a=this.gapi.client.request({root:"https://script.googleapis.com",path:"v1/scripts/".concat(this.scriptId,":run"),method:"POST",body:t});return new Promise(function(e,t){a.execute(function(a){if(a.error&&a.error.status)t("Error calling API: "+JSON.stringify(a,null,2));else if(a.error){var n=a.error.details[0];t("Script error! Message: "+n.errorMessage)}else e(a.response.result)})})}}]),e}())({apiKey:"AIzaSyA0rvMrNVWVhm8HNd56eY64OXhVEVIxqlQ",clientId:"169025190639-ktoqejmqod0hcfh8pbt7hknbg8apfps9.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/script.external_request",discoveryDocs:["https://script.googleapis.com/$discovery/rest?version=v1"]}),L=function(){function e(t){Object(h.a)(this,e),this.name=t.name,this.expression=new RegExp(t.pattern,t.flagsToString())}return Object(m.a)(e,[{key:"apply",value:function(e){return e.match(this.expression)[1]}}]),e}(),R=function(){function e(t){Object(h.a)(this,e),this.parameters=[],this.string=t;for(var a,n=/%(.+?)%/g;a=n.exec(t);){var r=a[1];this.parameters.push({name:r,regexp:new RegExp("%".concat(r,"%"),"g")})}}return Object(m.a)(e,[{key:"build",value:function(e){var t=this.string.slice(),a=!0,n=!1,r=void 0;try{for(var i,s=this.parameters[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){var l=i.value;t=t.replace(l.regexp,e[l.name])}}catch(o){n=!0,r=o}finally{try{a||null==s.return||s.return()}finally{if(n)throw r}}return t}}]),e}(),T=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"grab",value:function(e,t){var a=e.map(function(e){return new L(e)}),n=new R(t);return function(e){var t=a.reduce(function(t,a){return t[a.name]=a.apply(e),t},{});return n.build(t)}}}]),e}(),M=function(){function e(t,a){Object(h.a)(this,e),this.name="Parameter",this.pattern="",this.flags={i:!0,g:!1,m:!1},this.name=t,this.pattern=a}return Object(m.a)(e,[{key:"flagsToString",value:function(){for(var e="",t=Object.keys(this.flags),a=0;a<t.length;a++){var n=t[a];this.flags[n]&&(e+=n)}return e}}]),e}(),D=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={links:"https://reactjs.org",parameters:[new M("Title","<title.*>(.+)<\\/title>")],resultString:"Title: %Title%",result:"",user:q.user},a.authHandler=function(){q.authorize().then(function(e){return a.setState({user:e})})},a.runHandler=function(){var e=T.grab(a.state.parameters,a.state.resultString);Promise.all(a.state.links.split("\n").map(function(e){return q.fetch(e)})).then(function(t){return t.map(function(t){return e(t)}).join("\n")}).then(function(e){return a.setState({result:e})})},a.changeHandler=function(e){return function(t){a.setState(Object(l.a)({},e,t.target.value))}},a.parameterChangeHandler=function(e,t){return function(n,r){a.setState(function(a,n){return a.parameters[e][t]=r,a})}},a.parameterFlagHandler=function(e,t){return function(n,r){a.setState(function(a,n){return a.parameters[e].flags[t]=r,a})}},a.parameterDeleteHandler=function(e){return function(){a.setState(function(t,a){return t.parameters.splice(e,1),t})}},a.addParameterHandler=function(){a.setState(function(e,t){return e.parameters.push(new M("Parameter","")),e})},q.onUserUpdate=function(e){return a.setState({user:e})},a}return Object(c.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.links,i=a.parameters,s=a.resultString,l=a.user,o=a.result;return r.a.createElement("div",{className:t.root},r.a.createElement(b.a,{position:"static",className:t.appBar},r.a.createElement(E.a,null,r.a.createElement(S.a,{variant:"h6",color:"inherit",className:t.grow},"Data grabber"),r.a.createElement(f.a,{className:t.button,color:"inherit",onClick:this.authHandler},l?l.w3.ig:"Login"))),r.a.createElement("div",{className:t.container},r.a.createElement(O.a,{container:!0,spacing:24,className:t.grid},r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(g.a,{variant:"outlined",fullWidth:!0,label:"Result string",value:s,onChange:this.changeHandler("resultString")})),r.a.createElement(O.a,{item:!0,xs:4},r.a.createElement(g.a,{label:"Links",fullWidth:!0,multiline:!0,rows:30,variant:"outlined",value:n,onChange:this.changeHandler("links")})),r.a.createElement(O.a,{item:!0,xs:8},i.map(function(a,n){return r.a.createElement(j.a,{className:t.paper,elevation:1},r.a.createElement(O.a,{container:!0,spacing:24},r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement("div",{className:t.variableBar},r.a.createElement(g.a,{fullWidth:!0,label:"Name",variant:"outlined",value:a.name,onChange:e.parameterChangeHandler(n,"name")}),r.a.createElement(P.a,{className:t.button,onClick:e.parameterDeleteHandler(n)},r.a.createElement(_.a,{className:t.icon})))),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement("div",{className:t.variableBar},r.a.createElement(g.a,{fullWidth:!0,label:"Pattern",variant:"outlined",value:a.pattern,onChange:e.parameterChangeHandler(n,"pattern")}),r.a.createElement(N.a,{row:!0,style:{marginLeft:30,minWidth:180}},Object.keys(a.flags).map(function(t){return r.a.createElement(A.a,{control:r.a.createElement(I.a,{value:t,checked:a.flags[t],onChange:e.parameterFlagHandler(n,t)}),label:t})}))))))})),r.a.createElement(O.a,{item:!0,xs:4},r.a.createElement(f.a,{color:"primary",className:t.button,onClick:this.runHandler},"Run")),r.a.createElement(O.a,{item:!0,xs:8},r.a.createElement(f.a,{className:t.button,onClick:this.addParameterHandler},"Add")),o.length>0&&r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(g.a,{label:"Result",fullWidth:!0,multiline:!0,rows:o.split("\n").length,variant:"outlined",value:o})))))}}]),t}(n.Component),J=Object(B.withStyles)(function(e){return{root:{flexGrow:1},appBar:{},grow:{flexGrow:1},container:{padding:20},button:{margin:0},icon:{fontSize:26,margin:5},variableBar:{display:"flex",alignItems:"center"},paper:{padding:20}}})(D);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[106,2,1]]]);
//# sourceMappingURL=main.fb6dc7a7.chunk.js.map