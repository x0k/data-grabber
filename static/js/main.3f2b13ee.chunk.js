(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,n){e.exports=n(281)},281:function(e,t,n){"use strict";n.r(t);for(var a=n(0),r=n.n(a),o=n(23),l=n(50),c=n(106),i=n(107),u=n(16),s=n.n(u),m=n(22),h=n.n(m),p=n(53),f=n.n(p),d=n(116),v=n.n(d),E=n(15),g=n(108),b=n.n(g),y=n(109),w=n.n(y),T=n(45),O=n.n(T),R=n(110),S=n.n(R),A=n(113),N=n.n(A),_=n(112),k=n.n(_),j=n(111),C=n.n(j),x=Object(E.withStyles)({appBar:{},grow:{flexGrow:1},avatar:{width:34,height:34}})(function(e){var t=e.classes,n=e.anchor,a=e.user,o=e.authHandler,l=e.menuHandler,c=Boolean(n);return r.a.createElement(b.a,{position:"static",className:t.appBar},r.a.createElement(w.a,null,r.a.createElement(O.a,{variant:"h6",color:"inherit",className:t.grow},"Data grabber"),a&&r.a.createElement("div",null,r.a.createElement(S.a,{"aria-owns":c?"menu-appbar":void 0,"aria-haspopup":"true",onClick:l(!0),color:"inherit"},r.a.createElement(C.a,{alt:a.getName(),src:a.getImageUrl(),className:t.avatar})),r.a.createElement(k.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:l(!1)},r.a.createElement(N.a,{onClick:o},"Logout"))),!a&&r.a.createElement(h.a,{className:t.button,color:"inherit",onClick:o},"Login")))}),H=n(30),P=n.n(H),L=function(e){var t=e.label,n=e.value,a=e.onChange;return r.a.createElement(P.a,{label:t,fullWidth:!0,multiline:!0,variant:"outlined",value:n,onChange:a})},I=n(114),M=n.n(I),G=Object(E.withStyles)({checkLabel:{margin:5,fontSize:"1em",textTransform:"uppercase",cursor:"pointer"}})(function(e){var t=e.classes,n=(e.className,e.children),a=e.value,o=e.checked,l=e.onChange;return r.a.createElement(O.a,{className:t.checkLabel,onClick:function(e){l(e,!o&&a)},style:{color:o?"#f50057":"#9e9e9e"}},n)}),D={row:{display:"flex",alignItems:"center",marginTop:10,marginBottom:10},flags:{marginLeft:20,minWidth:84},btn:{marginLeft:20,minWidth:84}},U=Object(E.withStyles)(D)(function(e){var t=e.className,n=e.classes,a=e.value,o=e.onNameChange,l=e.onPatternChange,c=e.onItemChange,i=e.onCheck,u=e.onRemove,s=e.onTest,m=a.name,p=a.flags,f=a.pattern,d=a.item;return r.a.createElement("div",{className:t},r.a.createElement("div",{className:n.row},r.a.createElement(P.a,{fullWidth:!0,label:"Name",variant:"outlined",value:m,onChange:o}),r.a.createElement(M.a,{row:!0,className:n.flags},Object.keys(p).map(function(e){return r.a.createElement(G,{key:e,value:e,checked:p[e],onChange:i(e)},e)}))),r.a.createElement("div",{className:n.row},r.a.createElement(P.a,{fullWidth:!0,variant:"outlined",label:"Pattern",value:f,onChange:l}),r.a.createElement(h.a,{className:n.btn,variant:"outlined",onClick:s},"Test")),r.a.createElement("div",{className:n.row},r.a.createElement(P.a,{fullWidth:!0,variant:"outlined",label:"Item",value:d,onChange:c}),r.a.createElement(h.a,{className:n.btn,variant:"outlined",color:"secondary",onClick:u},"Remove")))}),W=Object(E.withStyles)({container:{borderStyle:"solid",border:1,borderRadius:4,borderColor:"rgba(0, 0, 0, 0.23)",whiteSpace:"pre-wrap",wordWrap:"break-word",padding:"20px 14px",fontFamily:"Roboto","&:hover":{borderColor:"rgba(0, 0, 0, 1)"}}})(function(e){var t=e.classes,n=e.children;return r.a.createElement("div",{className:t.container},n)}),z=n(19),B=n(20),q=n(51),F=n(21),V=n(52),J=n(115),K=n(37),Q=Object(E.withStyles)({wrapper:{},collapserDesc:{color:"blue"}})(function(e){var t,n=e.classes,a=e.value,o=e.key;if(a.length>340){var l=function(e){var t=-1,n=0,a=0;do{n=t,t=e.indexOf("\n",t+1),a++}while(-1!==t&&a<4&&t-n<161);var r=a<4?n+160:t;return e.slice(0,r)}(a),c=function(e){var t=e.length,n=t,a=0;do{n=t,t=e.lastIndexOf("\n",t-1),a++}while(-1!==t&&a<4&&n-t<161);var r=a<4?n-160:t;return e.slice(r,e.length)}(a);t=[l,r.a.createElement("div",{key:o+"_btn",className:n.collapserDesc},"Hidden part"),c]}else t=a;return r.a.createElement("span",{className:n.wrapper},t)}),Y={},$=1;$<5;$++)Y["hl-".concat($)]={background:"hsl(".concat(120*(1-$/5),", 100%, 50%)"),borderRadius:3};var X=function(e){function t(){var e,n;Object(z.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(q.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).state={status:null,lastRegExp:""},n}return Object(V.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.parameter,o=t.classes,l=this.state,c=l.status,i=l.lastRegExp,u=a.pattern+a.flagsToString();return i!==u&&function(e,t){return new Promise(function(n,a){var r=new RegExp(t.pattern,t.flagsToString()),o=e.match(r);o||a({error:"No matches"});var l=[],c=!0,i=!1,u=void 0;try{for(var s,m=function(){var t=s.value,n=-1,a=function(e){return e.from+e.len===n+t.length};do{n=e.indexOf(t,n+1)}while(l.find(a)&&-1!==n);if(-1===n)throw new Error("Cannot find ".concat(t));l.push({from:n,len:t.length,element:t,inner:[]})},h=o[Symbol.iterator]();!(c=(s=h.next()).done);c=!0)m()}catch(E){i=!0,u=E}finally{try{c||null==h.return||h.return()}finally{if(i)throw u}}(o=l).sort(function(e,t){return e.from+e.len-(t.from+t.len)});for(var p=o.length-1;p>0;){var f,d=o[p],v=o[p-1];v.from>=d.from&&v.from+v.len<=d.from+d.len?(f=d.inner).unshift.apply(f,Object(K.a)(o.splice(--p,1))):p--}n(o)})}(n,a).then(function(e){return function(e,t,n){return new Promise(function(a,o){a(function e(t,a){var o=[],l=t.element,c=0,i=!0,u=!1,s=void 0;try{for(var m,h=t.inner[Symbol.iterator]();!(i=(m=h.next()).done);i=!0){var p=m.value,f=l.split(p.element),d=Object(J.a)(f),v=d[0],E=d.slice(1),g=a<1?r.a.createElement(Q,{key:p.element+c++,value:v}):v;o=[].concat(Object(K.a)(o),[g,e(p,a+1)]),l=E.join("")}}catch(b){u=!0,s=b}finally{try{i||null==h.return||h.return()}finally{if(u)throw s}}return l.length&&o.push(a<1?r.a.createElement(Q,{key:t.element+"_end",value:l}):l),r.a.createElement("span",{key:t.element,className:n["hl-".concat(a)]},o.filter(function(e){return Boolean(e)}))}({inner:t,element:e},0))})}(n,e,o)}).then(function(t){return e.setState({status:t,lastRegExp:u})}).catch(function(t){var n=t.error;return e.setState({status:n,lastRegExp:u})}),r.a.createElement("div",null,c||n)}}]),t}(a.Component),Z=Object(E.withStyles)(Y)(X),ee=Object(E.withStyles)({root:{flexGrow:1},wrapper:{width:"90%",margin:"0 auto"},container:{padding:20},button:{marginRight:20},progress:{margin:"10 auto"}})(function(e){var t=e.classes,n=e.api,a=e.links,o=e.parameters,l=e.container,c=e.user,i=e.result,u=e.anchor,s=e.status,m=e.test,p=e.authHandler,d=e.menuHandler,E=e.linksChangeHandler,g=e.parameterCheckHandler,b=e.parameterDeleteHandler,y=e.parameterTestHandler,w=e.runHandler,T=e.parameterAddHandler,O=e.containerChangeHandler,R=e.parameterNameHandler,S=e.parameterPatternHandler,A=e.parameterItemHandler,N=e.authorize;return n||N(),r.a.createElement("div",{className:t.root},r.a.createElement(x,{anchor:u,user:c,authHandler:p,menuHandler:d}),r.a.createElement(f.a,{container:!0},r.a.createElement(f.a,{item:!0,xs:12,lg:6},r.a.createElement("div",{className:t.wrapper},r.a.createElement("div",{className:t.container},r.a.createElement(L,{label:"Links",value:a,onChange:E})),r.a.createElement("div",{className:t.container},r.a.createElement(h.a,{variant:"outlined",color:"primary",className:t.button,onClick:w,disabled:!c},"Run"),r.a.createElement(h.a,{variant:"outlined",className:t.button,onClick:T},"Add")),o.map(function(e,n){return r.a.createElement(U,{key:n,className:t.container,value:e,onNameChange:R(n),onPatternChange:S(n),onItemChange:A(n),onCheck:g(n),onRemove:b(n),onTest:y(n)})}))),r.a.createElement(f.a,{item:!0,xs:12,lg:6},r.a.createElement("div",{className:t.wrapper},r.a.createElement("div",{className:t.container},r.a.createElement(L,{label:"Items container",value:l,onChange:O})),"none"!==s&&r.a.createElement("div",{className:t.container},r.a.createElement(W,null,"show"===s&&i.length>0&&i.map(function(e,t){return r.a.createElement("div",{key:t,dangerouslySetInnerHTML:{__html:e}})}),"test"===s&&r.a.createElement(Z,{parameter:o[m.parameter],value:m.text}),"loading"===s&&r.a.createElement(v.a,null)))))))}),te=n(54),ne=n(69),ae=n.n(ne),re=n(117),oe=function(){function e(t){Object(z.a)(this,e),this.name=t.name,this.item=t.item,this.expression=new RegExp(t.pattern,t.flagsToString())}return Object(B.a)(e,[{key:"apply",value:function(e){var t=this,n="";return e.replace(this.expression,function(e){n+=e.replace(t.expression,t.item)}),n}}]),e}();function le(e,t){var n=e.map(function(e){return new oe(e)});return function(e){var a=e.URL,r=e.text,o=n.reduce(function(e,t){return e[t.name]=t.apply(r),e},{URL:a});return t.replace(/%(.+?)%/g,function(e,t){return o[t]})}}function ce(){return(ce=Object(re.a)(ae.a.mark(function e(t,n,a,r){var o,l;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=le(a,r),e.next=3,Promise.all(n.map(function(e){return t(e)})).then(function(e){return e.map(function(e,t){return{URL:n[t],text:e.result.response.result}})});case 3:return l=e.sent,e.abrupt("return",l.map(function(e){return o(e)}));case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var ie=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return n.map(function(t){return e(t)})},ue={none:"none",loading:"loading",test:"test",show:"show"},se=ie(function(e){return function(){return{type:e}}},"ADD_PARAMETER"),me=Object(te.a)(se,1)[0],he=ie(function(e){return function(t){return{type:e,payload:t}}},"CREATE_API","SET_ANCHOR","SET_LINKS","SET_USER","DEL_PARAMETER","SET_TEST","SET_RESULT","SET_CONTAINER","SET_STATUS"),pe=Object(te.a)(he,9),fe=pe[0],de=pe[1],ve=pe[2],Ee=pe[3],ge=pe[4],be=pe[5],ye=pe[6],we=pe[7],Te=pe[8],Oe=ie(function(e){return function(t,n){return{type:e,id:t,payload:n}}},"SET_PARAMETER_NAME","SET_PARAMETER_PATTER","SET_PARAMETER_ITEM","TOGGLE_FLAG"),Re=Object(te.a)(Oe,4),Se=Re[0],Ae=Re[1],Ne=Re[2],_e=Re[3];function ke(){return function(e,t){var n=t().api;n?n.authorize():(e(fe(function(t){e(de(null)),e(Ee(n&&t?n.user.getBasicProfile():null))})),n=t().api)}}function je(){return function(e,t){e(Te(ue.loading));var n=t(),a=n.api,r=n.links,o=n.container,l=n.parameters;return function(e,t,n,a){return ce.apply(this,arguments)}(function(e){return a.fetch(e)},r.split("\n"),l,o).then(function(t){e(ye(t)),e(Te(ue.show))})}}var Ce=Object(l.b)(function(e){return e},function(e,t){return{menuHandler:function(t){return function(n){return e(de(t?n.currentTarget:null))}},authHandler:function(){return e(ke())},linksChangeHandler:function(t){return e(ve(t.target.value))},containerChangeHandler:function(t){return e(we(t.target.value))},runHandler:function(){return e(je())},parameterAddHandler:function(){return e(me())},parameterDeleteHandler:function(t){return function(){return e(ge(t))}},parameterNameHandler:function(t){return function(n){return e(Se(t,n.target.value))}},parameterPatternHandler:function(t){return function(n){return e(Ae(t,n.target.value))}},parameterItemHandler:function(t){return function(n){return e(Ne(t,n.target.value))}},parameterCheckHandler:function(t){return function(n){return function(a,r){return e(_e(t,n))}}},parameterTestHandler:function(t){return function(){return e((n=t,function(e,t){var a=t(),r=a.api,o=a.links;if(0!==o.length){e(Te(ue.loading));var l=o.split("\n")[0];return r.fetch(l).then(function(e){return e.result.response.result}).then(function(t){e(be({text:t,parameter:n})),e(Te(ue.test))})}e(ye(["No links"])),e(Te(ue.show))}));var n}},authorize:function(){return e(ke())}}})(ee);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LINKS":return t.payload;default:return e}},He=n(49),Pe=n(32),Le=function(e,t){switch(t.type){case"TOGGLE_FLAG":return Object(Pe.a)({},e,Object(He.a)({},t.payload,!e[t.payload]));default:return e}},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"Parameter",pattern:"",item:"",flags:{i:!0,g:!1,m:!1,s:!1},flagsToString:function(){for(var e="",t=Object.keys(this.flags),n=0;n<t.length;n++){var a=t[n];this.flags[a]&&(e+=a)}return e}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PARAMETER_NAME":return Object(Pe.a)({},e,{name:t.payload});case"SET_PARAMETER_PATTER":return Object(Pe.a)({},e,{pattern:t.payload});case"SET_PARAMETER_ITEM":return Object(Pe.a)({},e,{item:t.payload});case"TOGGLE_FLAG":return Object(Pe.a)({},e,{flags:Le(e.flags,t)});default:return e}},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PARAMETER":return[].concat(Object(K.a)(e),[Ie(void 0,t)]);case"DEL_PARAMETER":return e.filter(function(e,n){return n!==t.payload});case"SET_PARAMETER_NAME":case"SET_PARAMETER_PATTER":case"SET_PARAMETER_ITEM":case"TOGGLE_FLAG":return e.map(function(e,n){return n===t.id?Ie(e,t):e});default:return e}},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:"",parameter:-1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TEST":return t.payload;default:return e}},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CONTAINER":return t.payload;default:return e}},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_RESULT":return t.payload;default:return e}},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.payload;default:return e}},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_STATUS":return t.payload;default:return e}},Be=n(119),qe=n(118),Fe={apiKey:"AIzaSyA0rvMrNVWVhm8HNd56eY64OXhVEVIxqlQ",clientId:"169025190639-ktoqejmqod0hcfh8pbt7hknbg8apfps9.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/script.external_request",discoveryDocs:["https://script.googleapis.com/$discovery/rest?version=v1"]},Ve=function(e){function t(e){return Object(z.a)(this,t),Object(q.a)(this,Object(F.a)(t).call(this,Fe,e))}return Object(V.a)(t,e),Object(B.a)(t,[{key:"fetch",value:function(e){var n={function:"fetch",parameters:[e],devMode:!1};return Object(Be.a)(Object(F.a)(t.prototype),"execute",this).call(this,function(e){return{root:"https://script.googleapis.com",path:"v1/scripts/M1qUJ-bECOgm4Y9z9evwE5gNpR_a-QLCI:run",method:"POST",body:e}}(n))}}]),t}(qe.a),Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_API":return new Ve(t.payload);default:return e}},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ANCHOR":return t.payload;default:return e}},Qe=Object(o.c)({api:Je,anchor:Ke,user:We,links:xe,parameters:Me,test:Ge,container:De,result:Ue,status:ze}),Ye=Object(i.createLogger)(),$e=Object(o.d)(Qe,Object(o.a)(c.a,Ye));s.a.render(r.a.createElement(l.a,{store:$e},r.a.createElement(Ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[120,2,1]]]);
//# sourceMappingURL=main.3f2b13ee.chunk.js.map