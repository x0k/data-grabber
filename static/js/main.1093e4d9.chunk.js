(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{238:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(15),s=n.n(i),o=n(85),l=n(19),u=n(20),c=n(91),h=n(86),p=n(92),g=n(21),m=n.n(g),d=n(50),f=n.n(d),v=n(87),b=n.n(v),w=n(89),E=n.n(w),y=n(90),x=n.n(y),O=n(16),U=n.n(O),k=n(49),j=new(function(){function e(t){var n=this;Object(l.a)(this,e),this.isAuthorized=!1,this.onStatusUpdate=null,this.user=null,this.onUserUpdate=null,this.scriptId="M1qUJ-bECOgm4Y9z9evwE5gNpR_a-QLCI",this._satusUpdate=function(e){n.isAuthorized=e,n.onStatusUpdate&&n.onStatusUpdate(e)},this._userUpdate=function(e){n.user=e,n.onUserUpdate&&n.onUserUpdate(n.user)};var a=function(){n.googleAuth=n.gapi.auth2.getAuthInstance(),n.googleAuth.isSignedIn.listen(n._satusUpdate),n.googleAuth.currentUser.listen(n._userUpdate),n._satusUpdate(n.googleAuth.isSignedIn.get()),n.isAuthorized&&n._userUpdate(n.googleAuth.currentUser.get())},r=function(){n.gapi.client.init(t).then(a)},i=function(){n.gapi=window.gapi,n.gapi.load("client:auth2",r)};window.gapi?i():window.addEventListener("gapiLoaded",i)}return Object(u.a)(e,[{key:"authorize",value:function(){return this.isAuthorized?this.googleAuth.signOut():this.googleAuth.signIn()}},{key:"fetch",value:function(e){var t={function:"fetch",parameters:[e],devMode:!0},n=this.gapi.client.request({root:"https://script.googleapis.com",path:"v1/scripts/".concat(this.scriptId,":run"),method:"POST",body:t});return new Promise(function(e,t){n.execute(function(n){if(n.error&&n.error.status)t("Error calling API: "+JSON.stringify(n,null,2));else if(n.error){var a=n.error.details[0];t("Script error! Message: "+a.errorMessage)}else e(n.response.result)})})}}]),e}())({apiKey:"AIzaSyA0rvMrNVWVhm8HNd56eY64OXhVEVIxqlQ",clientId:"169025190639-ktoqejmqod0hcfh8pbt7hknbg8apfps9.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/script.external_request",discoveryDocs:["https://script.googleapis.com/$discovery/rest?version=v1"]}),S=function(){function e(t){var n=t.name,a=t.pattern,r=t.flags;Object(l.a)(this,e),this.name=n,this.expression=new RegExp(a,r)}return Object(u.a)(e,[{key:"apply",value:function(e){return e.match(this.expression)[1]}}]),e}(),A=function(){function e(t){Object(l.a)(this,e),this.parameters=[],this.string=t;for(var n,a=/%(.+?)%/g;n=a.exec(t);){var r=n[1];this.parameters.push({name:r,regexp:new RegExp("%".concat(r,"%"),"g")})}}return Object(u.a)(e,[{key:"build",value:function(e){var t=this.string.slice(),n=!0,a=!1,r=void 0;try{for(var i,s=this.parameters[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var o=i.value;t=t.replace(o.regexp,e[o.name])}}catch(l){a=!0,r=l}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}return t}}]),e}(),I=function(){function e(){Object(l.a)(this,e)}return Object(u.a)(e,null,[{key:"grab",value:function(e,t){var n=e.map(function(e){return new S(e)}),a=new A(t);return function(e){var t=n.reduce(function(t,n){return t[n.name]=n.apply(e),t},{});return a.build(t)}}}]),e}(),N=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={links:"https://reactjs.org",variables:[{name:"Title",pattern:"<title.*>(.+)<\\/title>",flags:"i"}],buildString:"Title: %Title%",result:"",user:j.user},n.authHandler=function(){j.authorize().then(function(e){return n.setState({user:e})})},n.runHandler=function(){var e=I.grab(n.state.variables,n.state.buildString);Promise.all(n.state.links.split("\n").map(function(e){return j.fetch(e)})).then(function(t){return t.map(function(t){return e(t)}).join("\n")}).then(function(e){return n.setState({result:e})})},n.changeHandler=function(e){return function(t){n.setState(Object(o.a)({},e,t.target.value))}},j.onUserUpdate=function(e){return n.setState({user:e})},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state,n=t.links,a=t.variables,i=t.buildString,s=t.user,o=t.result;return r.a.createElement("div",{className:e.root},r.a.createElement(b.a,{position:"static",className:e.appBar},r.a.createElement(E.a,null,r.a.createElement(x.a,{variant:"h6",color:"inherit",className:e.grow},"Data grabber"),r.a.createElement(f.a,{className:e.button,color:"inherit",onClick:this.authHandler},s?s.w3.ig:"Login"))),r.a.createElement("div",{className:e.container},r.a.createElement(U.a,{container:!0,spacing:24,className:e.grid},r.a.createElement(U.a,{item:!0,xs:4},r.a.createElement(m.a,{label:"Links",fullWidth:!0,multiline:!0,rows:30,variant:"outlined",value:n,onChange:this.changeHandler("links")})),r.a.createElement(U.a,{item:!0,xs:8},a.map(function(e,t){return r.a.createElement(U.a,{container:!0,spacing:24},r.a.createElement(U.a,{item:!0,xs:12},r.a.createElement(m.a,{fullWidth:!0,label:"Name",value:e.name})),r.a.createElement(U.a,{item:!0,xs:9},r.a.createElement(m.a,{fullWidth:!0,label:"Pattern",value:e.pattern})),r.a.createElement(U.a,{item:!0,xs:3},r.a.createElement(m.a,{fullWidth:!0,label:"Flags",value:e.flags})))})),r.a.createElement(U.a,{item:!0,xs:12},r.a.createElement(m.a,{variant:"outlined",fullWidth:!0,label:"Build string",value:i})),r.a.createElement(U.a,{item:!0,xs:12},r.a.createElement(f.a,{color:"primary",className:e.button,onClick:this.runHandler},"Grab")),o.length>0&&r.a.createElement(U.a,{item:!0,xs:12},r.a.createElement(m.a,{label:"Result",fullWidth:!0,multiline:!0,rows:o.split("\n").length,variant:"outlined",value:o})))))}}]),t}(a.Component),W=Object(k.withStyles)(function(e){return{root:{flexGrow:1},appBar:{},grow:{flexGrow:1},container:{padding:20},button:{}}})(N);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},93:function(e,t,n){e.exports=n(238)}},[[93,2,1]]]);
//# sourceMappingURL=main.1093e4d9.chunk.js.map