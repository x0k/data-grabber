(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,a){e.exports=a(257)},257:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(15),l=a.n(i),c=a(38),o=a(16),s=a(17),u=a(40),m=a(21),h=a(41),p=a(22),f=a.n(p),d=a(42),g=a.n(d),v=a(19),b=a(95),E=a.n(b),w=a(96),k=a.n(w),C=a(39),y=a.n(C),O=a(97),j=a.n(O),N=a(100),H=a.n(N),x=a(99),S=a.n(x),I=a(98),L=a.n(I),T=Object(v.withStyles)({appBar:{},grow:{flexGrow:1},avatar:{width:34,height:34}})(function(e){var t=e.classes,a=e.anchor,n=e.user,i=e.authHandler,l=e.menuHandler,c=Boolean(a);return r.a.createElement(E.a,{position:"static",className:t.appBar},r.a.createElement(k.a,null,r.a.createElement(y.a,{variant:"h6",color:"inherit",className:t.grow},"Data grabber"),n&&r.a.createElement("div",null,r.a.createElement(j.a,{"aria-owns":c?"menu-appbar":void 0,"aria-haspopup":"true",onClick:l(!0),color:"inherit"},r.a.createElement(L.a,{alt:n.getName(),src:n.getImageUrl(),className:t.avatar})),r.a.createElement(S.a,{id:"menu-appbar",anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:l(!1)},r.a.createElement(H.a,{onClick:i},"Logout"))),!n&&r.a.createElement(f.a,{className:t.button,color:"inherit",onClick:i},"Login")))}),R=a(29),W=a.n(R),B=function(e){var t=e.label,a=e.value,n=e.onChange;return r.a.createElement(W.a,{label:t,fullWidth:!0,multiline:!0,variant:"outlined",value:a,onChange:n})},z=a(101),P=a.n(z),$=Object(v.withStyles)({checkLabel:{margin:5,fontSize:"1em",textTransform:"uppercase",cursor:"pointer"}})(function(e){var t=e.classes,a=(e.className,e.children),n=e.value,i=e.checked,l=e.onChange;return r.a.createElement(y.a,{className:t.checkLabel,onClick:function(e){l(e,!i&&n)},style:{color:i?"#f50057":"#9e9e9e"}},a)}),q=Object(v.withStyles)({row:{display:"flex",alignItems:"center",marginTop:10,marginBottom:10},flags:{marginLeft:20,marginRight:20,minWidth:80}})(function(e){var t=e.className,a=e.classes,n=e.value,i=e.onChange,l=e.onCheck,c=e.onRemove,o=n.name,s=n.flags,u=n.pattern,m=n.item;return r.a.createElement("div",{className:t},r.a.createElement("div",{className:a.row},r.a.createElement(W.a,{fullWidth:!0,label:"Name",variant:"outlined",value:o,onChange:i("name")}),r.a.createElement(P.a,{row:!0,className:a.flags},Object.keys(s).map(function(e){return r.a.createElement($,{key:e,value:e,checked:s[e],onChange:l(e)},e)})),r.a.createElement(f.a,{variant:"outlined",color:"secondary",onClick:c},"Remove")),r.a.createElement("div",{className:a.row},r.a.createElement(W.a,{fullWidth:!0,variant:"outlined",label:"Pattern",value:u,onChange:i("pattern")})),r.a.createElement("div",{className:a.row},r.a.createElement(W.a,{fullWidth:!0,variant:"outlined",label:"Item",value:m,onChange:i("item")})))}),A=a(105),D=a(104),M={apiKey:"AIzaSyA0rvMrNVWVhm8HNd56eY64OXhVEVIxqlQ",clientId:"169025190639-ktoqejmqod0hcfh8pbt7hknbg8apfps9.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/script.external_request",discoveryDocs:["https://script.googleapis.com/$discovery/rest?version=v1"]},V=function(e){function t(e){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).call(this,M,e))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"fetch",value:function(e){var a={function:"fetch",parameters:[e],devMode:!1};return Object(A.a)(Object(m.a)(t.prototype),"execute",this).call(this,function(e){return{root:"https://script.googleapis.com",path:"v1/scripts/M1qUJ-bECOgm4Y9z9evwE5gNpR_a-QLCI:run",method:"POST",body:e}}(a))}}]),t}(D.a),_=a(102),J=function(){function e(t){var a=t.name,n=void 0===a?"Parameter":a,r=t.pattern,i=void 0===r?"":r,l=t.item,c=void 0===l?"":l,s=t.flags,u=void 0===s?null:s;Object(o.a)(this,e),this.name="Parameter",this.pattern="",this.item="",this.flags={i:!0,g:!1,m:!1,s:!1},this.name=n,this.pattern=i,this.item=c,u&&(this.flags=Object(_.a)({},this.flags,u))}return Object(s.a)(e,[{key:"flagsToString",value:function(){for(var e="",t=Object.keys(this.flags),a=0;a<t.length;a++){var n=t[a];this.flags[n]&&(e+=n)}return e}}]),e}(),G=a(58),Q=a.n(G),U=a(103),Y=function(){function e(t){Object(o.a)(this,e),this.name=t.name,this.item=t.item,this.expression=new RegExp(t.pattern,t.flagsToString())}return Object(s.a)(e,[{key:"apply",value:function(e){var t=this,a="";return e.replace(this.expression,function(e){a+=e.replace(t.expression,t.item)}),a}}]),e}();function K(e,t){var a=e.map(function(e){return new Y(e)});return function(e){var n=e.link,r=e.text,i=a.reduce(function(e,t){return e[t.name]=t.apply(r),e},{link:n});return t.replace(/%(.+?)%/g,function(e,t){return i[t]})}}function X(){return(X=Object(U.a)(Q.a.mark(function e(t,a,n,r){var i,l;return Q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=K(n,r),e.next=3,Promise.all(a.map(function(e){return t(e)})).then(function(e){return e.map(function(e,t){return{link:a[t],text:e.result.response.result}})});case 3:return l=e.sent,e.abrupt("return",l.map(function(e){return i(e)}));case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var F=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={links:"https://reactjs.org\nhttps://learn.javascript.ru",parameters:[new J({name:"Title",pattern:"<title.*?>(.+)<\\/title>",item:"$1",flags:{s:!0}}),new J({name:"Links",pattern:'<a.+?href="(http.+?)".*?>([^<>]+?)<\\/a>',item:'<li>$2: <a href="$1">$1</a></li>',flags:{g:!0}})],itemsContainer:"<b>%Title%</b><br><ul>%Links%</ul>",result:[],user:null,anchorEl:null},a.api=null,a.menuHandler=function(e){return function(t){a.setState({anchorEl:e?t.currentTarget:null})}},a.authHandler=function(){a.api.authorize()},a.changeHandler=function(e){return function(t){a.setState(Object(c.a)({},e,t.target.value))}},a.runHandler=function(){var e=a.state,t=e.parameters,n=e.itemsContainer,r=e.links;(function(e,t,a,n){return X.apply(this,arguments)})(a.api.fetch.bind(a.api),r.split("\n"),t,n).then(function(e){return a.setState({result:e})})},a.parameterChangeHandler=function(e){return function(t){return function(n){var r=n.target.value;a.setState(function(a){var n=a.parameters;return n[e][t]=r,{parameters:n}})}}},a.parameterCheckHandler=function(e){return function(t){return function(n,r){a.setState(function(a){var n=a.parameters;return n[e].flags[t]=r,{parameters:n}})}}},a.parameterDeleteHandler=function(e){return function(){a.setState(function(t){var a=t.parameters;return a.splice(e,1),{parameters:a}})}},a.parameterAddHandler=function(){a.setState(function(e){var t=e.parameters;return t.push(new J({})),{parameters:t}})},a.api=new V(function(e){return a.setState({user:e?a.api.user.getBasicProfile():null,anchorEl:null})}),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.links,i=a.parameters,l=a.itemsContainer,c=a.user,o=a.result,s=a.anchorEl;return r.a.createElement("div",{className:t.root},r.a.createElement(T,{anchor:s,user:c,authHandler:this.authHandler,menuHandler:this.menuHandler}),r.a.createElement(g.a,{container:!0},r.a.createElement(g.a,{item:!0,xs:12,lg:6},r.a.createElement("div",{className:t.wrapper},r.a.createElement("div",{className:t.container},r.a.createElement(B,{label:"Links",value:n,onChange:this.changeHandler("links")})),i.map(function(a,n){return r.a.createElement(q,{key:n,className:t.container,value:a,onChange:e.parameterChangeHandler(n),onCheck:e.parameterCheckHandler(n),onRemove:e.parameterDeleteHandler(n)})}),r.a.createElement("div",{className:t.container},r.a.createElement(f.a,{variant:"outlined",color:"primary",className:t.button,onClick:this.runHandler,disabled:!c},"Run"),r.a.createElement(f.a,{variant:"outlined",className:t.button,onClick:this.parameterAddHandler,disabled:!c},"Add")),r.a.createElement("div",{className:t.container},r.a.createElement(B,{label:"Items container",value:l,onChange:this.changeHandler("itemsContainer")})))),o.length>0&&r.a.createElement(g.a,{item:!0,xs:12,lg:6},r.a.createElement("div",{className:t.wrapper},o.map(function(e,a){return r.a.createElement("div",{key:a,className:t.container,dangerouslySetInnerHTML:{__html:e}})})))))}}]),t}(n.Component),Z=Object(v.withStyles)({root:{flexGrow:1},wrapper:{width:"90%",margin:"0 auto"},container:{padding:20},button:{marginRight:20}})(F);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[106,2,1]]]);
//# sourceMappingURL=main.ab2ef251.chunk.js.map