(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t,n){e.exports=n.p+"static/media/local.4d7cf21d.svg"},116:function(e,t,n){e.exports=n.p+"static/media/google-drive.c28687d4.svg"},123:function(e,t,n){e.exports=n(283)},283:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(25),l=n(51),c=n(107),i=n(108),u=n(16),s=n.n(u),m=n(18),p=n.n(m),d=n(24),f=n.n(d),h=n(120),v=n.n(h),g=n(15),E=n(109),b=n.n(E),y=n(110),w=n.n(y),T=n(26),O=n.n(T),A=n(111),S=n.n(A),k=n(114),R=n.n(k),N=n(113),C=n.n(N),j=n(112),_=n.n(j),L=Object(g.withStyles)({appBar:{},grow:{flexGrow:1},avatar:{width:34,height:34}})(function(e){var t=e.classes,n=e.anchor,a=e.user,o=e.authHandler,l=e.menuHandler,c=Boolean(n);return r.a.createElement(b.a,{position:"static",className:t.appBar},r.a.createElement(w.a,null,r.a.createElement(O.a,{variant:"h6",color:"inherit",className:t.grow},"Data grabber"),a&&r.a.createElement("div",null,r.a.createElement(S.a,{"aria-owns":c?"menu-appbar":void 0,"aria-haspopup":"true",onClick:l(!0),color:"inherit"},r.a.createElement(_.a,{alt:a.getName(),src:a.getImageUrl(),className:t.avatar})),r.a.createElement(C.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:l(!1)},r.a.createElement(R.a,{onClick:o},"Logout"))),!a&&r.a.createElement(p.a,{className:t.button,color:"inherit",onClick:o},"Login")))}),x=n(69),H=n.n(x),D=n(115),P=n.n(D),M=n(116),I=n.n(M);var G=Object(g.withStyles)(function(e){return{paper:{position:"absolute",width:50*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},icon:{width:18*e.spacing.unit}}})(function(e){var t=e.classes,n=e.open,a=e.onClose,o=e.onLocalClick,l=e.onDriveClick;return r.a.createElement(H.a,{open:n,onClose:a},r.a.createElement(f.a,{container:!0,className:t.paper},r.a.createElement(f.a,{item:!0,xs:6,onClick:o,style:{filter:o?"none":"grayscale(100%)"}},r.a.createElement("img",{className:t.icon,src:P.a,alt:"Local"}),r.a.createElement(O.a,{variant:"subtitle1"},"Local")),r.a.createElement(f.a,{item:!0,xs:6,onClick:l,style:{filter:l?"none":"grayscale(100%)"}},r.a.createElement("img",{className:t.icon,src:I.a,alt:"Google Drive"}),r.a.createElement(O.a,{variant:"subtitle1"},"Google Drive"))))}),U=n(33),W=n.n(U),B=function(e){var t=e.label,n=e.value,a=e.onChange;return r.a.createElement(W.a,{label:t,fullWidth:!0,multiline:!0,variant:"outlined",value:n,onChange:a})},z=n(117),F=n.n(z),q=Object(g.withStyles)({checkLabel:{margin:5,fontSize:"1em",textTransform:"uppercase",cursor:"pointer"}})(function(e){var t=e.classes,n=(e.className,e.children),a=e.value,o=e.checked,l=e.onChange;return r.a.createElement(O.a,{className:t.checkLabel,onClick:function(e){l(e,!o&&a)},style:{color:o?"#f50057":"#9e9e9e"}},n)}),J={row:{display:"flex",alignItems:"center",marginTop:10,marginBottom:10},flags:{marginLeft:20,minWidth:84},btn:{marginLeft:20,minWidth:84}},V=Object(g.withStyles)(J)(function(e){var t=e.className,n=e.classes,a=e.value,o=e.onNameChange,l=e.onPatternChange,c=e.onItemChange,i=e.onCheck,u=e.onRemove,s=e.onTest,m=a.name,d=a.flags,f=a.pattern,h=a.item;return r.a.createElement("div",{className:t},r.a.createElement("div",{className:n.row},r.a.createElement(W.a,{fullWidth:!0,label:"Name",variant:"outlined",value:m,onChange:o}),r.a.createElement(F.a,{row:!0,className:n.flags},Object.keys(d).map(function(e){return r.a.createElement(q,{key:e,value:e,checked:d[e],onChange:i(e)},e)}))),r.a.createElement("div",{className:n.row},r.a.createElement(W.a,{fullWidth:!0,variant:"outlined",label:"Pattern",value:f,onChange:l}),r.a.createElement(p.a,{className:n.btn,variant:"outlined",onClick:s},"Test")),r.a.createElement("div",{className:n.row},r.a.createElement(W.a,{fullWidth:!0,variant:"outlined",label:"Item",value:h,onChange:c}),r.a.createElement(p.a,{className:n.btn,variant:"outlined",color:"secondary",onClick:u},"Remove")))}),K=Object(g.withStyles)({container:{borderStyle:"solid",border:1,borderRadius:4,borderColor:"rgba(0, 0, 0, 0.23)",whiteSpace:"pre-wrap",wordWrap:"break-word",padding:"20px 14px",fontFamily:"Roboto","&:hover":{borderColor:"rgba(0, 0, 0, 1)"}}})(function(e){var t=e.classes,n=e.children;return r.a.createElement("div",{className:t.container},n)}),Q=n(21),Y=n(22),$=n(52),X=n(23),Z=n(53),ee=n(118),te=n(39),ne=Object(g.withStyles)({wrapper:{},collapserDesc:{color:"blue"}})(function(e){var t,n=e.classes,a=e.value,o=e.key;if(a.length>340){var l=function(e){var t=-1,n=0,a=0;do{n=t,t=e.indexOf("\n",t+1),a++}while(-1!==t&&a<4&&t-n<161);var r=a<4?n+160:t;return e.slice(0,r)}(a),c=function(e){var t=e.length,n=t,a=0;do{n=t,t=e.lastIndexOf("\n",t-1),a++}while(-1!==t&&a<4&&n-t<161);var r=a<4?n-160:t;return e.slice(r,e.length)}(a);t=[l,r.a.createElement("div",{key:o+"_btn",className:n.collapserDesc},"Hidden part"),c]}else t=a;return r.a.createElement("span",{className:n.wrapper},t)});function ae(e){for(var t="",n=Object.keys(e),a=0;a<n.length;a++){var r=n[a];e[r]&&(t+=r)}return t}for(var re={},oe=1;oe<5;oe++)re["hl-".concat(oe)]={background:"hsl(".concat(120*(1-oe/5),", 100%, 50%)"),borderRadius:3};var le=function(e){function t(){var e,n;Object(Q.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object($.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).state={status:null,lastRegExp:""},n}return Object(Z.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.parameter,o=t.classes,l=this.state,c=l.status,i=l.lastRegExp,u=a.pattern+ae(a.flags);return i!==u&&function(e,t){return new Promise(function(n,a){var r=new RegExp(t.pattern,ae(t.flags)),o=e.match(r);o||a({error:"No matches"});var l=[],c=!0,i=!1,u=void 0;try{for(var s,m=function(){var t=s.value,n=-1,a=function(e){return e.from+e.len===n+t.length};do{n=e.indexOf(t,n+1)}while(l.find(a)&&-1!==n);if(-1===n)throw new Error("Cannot find ".concat(t));l.push({from:n,len:t.length,element:t,inner:[]})},p=o[Symbol.iterator]();!(c=(s=p.next()).done);c=!0)m()}catch(g){i=!0,u=g}finally{try{c||null==p.return||p.return()}finally{if(i)throw u}}(o=l).sort(function(e,t){return e.from+e.len-(t.from+t.len)});for(var d=o.length-1;d>0;){var f,h=o[d],v=o[d-1];v.from>=h.from&&v.from+v.len<=h.from+h.len?(f=h.inner).unshift.apply(f,Object(te.a)(o.splice(--d,1))):d--}n(o)})}(n,a).then(function(e){return function(e,t,n){return new Promise(function(a,o){a(function e(t,a){var o=[],l=t.element,c=0,i=!0,u=!1,s=void 0;try{for(var m,p=t.inner[Symbol.iterator]();!(i=(m=p.next()).done);i=!0){var d=m.value,f=l.split(d.element),h=Object(ee.a)(f),v=h[0],g=h.slice(1),E=a<1?r.a.createElement(ne,{key:d.element+c++,value:v}):v;o=[].concat(Object(te.a)(o),[E,e(d,a+1)]),l=g.join("")}}catch(b){u=!0,s=b}finally{try{i||null==p.return||p.return()}finally{if(u)throw s}}return l.length&&o.push(a<1?r.a.createElement(ne,{key:t.element+"_end",value:l}):l),r.a.createElement("span",{key:t.element,className:n["hl-".concat(a)]},o.filter(function(e){return Boolean(e)}))}({inner:t,element:e},0))})}(n,e,o)}).then(function(t){return e.setState({status:t,lastRegExp:u})}).catch(function(t){var n=t.error;return e.setState({status:n,lastRegExp:u})}),r.a.createElement("div",null,c||n)}}]),t}(a.Component),ce=Object(g.withStyles)(re)(le),ie=n(54),ue=n(70),se=n.n(ue),me=n(119);var pe=function(){function e(t){Object(Q.a)(this,e),this.name=t.name,this.item=t.item,this.expression=new RegExp(t.pattern,function(e){for(var t="",n=Object.keys(e),a=0;a<n.length;a++){var r=n[a];e[r]&&(t+=r)}return t}(t.flags))}return Object(Y.a)(e,[{key:"apply",value:function(e){var t=this,n="";return e.replace(this.expression,function(e){n+=e.replace(t.expression,t.item)}),n}}]),e}();function de(e,t){var n=e.map(function(e){return new pe(e)});return function(e){var a=e.URL,r=e.text,o=n.reduce(function(e,t){return e[t.name]=t.apply(r),e},{URL:a});return t.replace(/%(.+?)%/g,function(e,t){return o[t]})}}function fe(){return(fe=Object(me.a)(se.a.mark(function e(t,n,a,r){var o,l;return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=de(a,r),e.next=3,Promise.all(n.map(function(e){return t(e)})).then(function(e){return e.map(function(e,t){return{URL:n[t],text:e.result.response.result}})});case 3:return l=e.sent,e.abrupt("return",l.map(function(e){return o(e)}));case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var he=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return n.map(function(t){return e(t)})},ve="SET_MODAL_ACTIONS",ge={none:"none",loading:"loading",test:"test",show:"show"},Ee=he(function(e){return function(){return{type:e}}},"ADD_PARAMETER"),be=Object(ie.a)(Ee,1)[0],ye=he(function(e){return function(t){return{type:e,payload:t}}},"LOAD_STATE","CREATE_API","SET_ANCHOR","SET_MODAL","SET_LINKS","SET_USER","DEL_PARAMETER","SET_TEST","SET_RESULT","SET_CONTAINER","SET_STATUS"),we=Object(ie.a)(ye,11),Te=we[0],Oe=we[1],Ae=we[2],Se=we[3],ke=we[4],Re=we[5],Ne=we[6],Ce=we[7],je=we[8],_e=we[9],Le=we[10],xe=he(function(e){return function(t,n){return{type:e,id:t,payload:n}}},"SET_PARAMETER_NAME","SET_PARAMETER_PATTER","SET_PARAMETER_ITEM","TOGGLE_FLAG"),He=Object(ie.a)(xe,4),De=He[0],Pe=He[1],Me=He[2],Ie=He[3];function Ge(){return function(e,t){var n=t().api;n?n.authorize():(e(Oe(function(t){e(Ae(null)),e(Re(n&&t?n.user.getBasicProfile():null))})),n=t().api)}}function Ue(){return function(e,t){e(Le(ge.loading));var n=t(),a=n.api,r=n.links,o=n.container,l=n.parameters;return function(e,t,n,a){return fe.apply(this,arguments)}(function(e){return a.fetch(e)},r.split("\n"),l,o).then(function(t){e(je(t)),e(Le(ge.show))})}}var We=function(e,t){return function(){new Promise(function(e,t){var n=document.createElement("input");n.onchange=e,n.onabort=t,n.setAttribute("type","file"),n.setAttribute("accept","json|application/json"),n.click()}).then(function(e){var t,n=e.path;return t=n[0].files[0],new Promise(function(e,n){if(t){var a=new FileReader;a.onload=e,a.onerror=n,a.readAsText(t)}else n({error:"File not selected"})})}).then(function(n){var a=n.target.result,r=JSON.parse(a);e(r),t()})}},Be=Object(g.withStyles)({root:{flexGrow:1},wrapper:{width:"90%",margin:"0 auto"},container:{padding:20},button:{marginRight:20},progress:{margin:"10 auto"}})(function(e){var t=e.classes,n=e.api,a=e.links,o=e.parameters,l=e.container,c=e.user,i=e.result,u=e.anchor,s=e.status,m=e.test,d=e.authHandler,h=e.menuHandler,g=e.linksChangeHandler,E=e.parameterCheckHandler,b=e.parameterDeleteHandler,y=e.parameterTestHandler,w=e.runHandler,T=e.parameterAddHandler,O=e.containerChangeHandler,A=e.parameterNameHandler,S=e.parameterPatternHandler,k=e.parameterItemHandler,R=e.authorize,N=e.modal,C=e.openDialog,j=e.closeDialog,_=e.loadData;n||R();var x,H,D={links:a,parameters:o,container:l,status:ge.none},P=C((x=D,H=j,function(){var e=new Blob([JSON.stringify(x)],{type:"application/json",name:"data.json"}),t=document.createElement("a");t.href=URL.createObjectURL(e),t.download="data.json",t.click(),H()}),null),M=C(We(_,j),null);return r.a.createElement("div",{className:t.root},r.a.createElement(L,{anchor:u,user:c,authHandler:d,menuHandler:h}),r.a.createElement(G,{open:N.open,onClose:j,onLocalClick:N.onLocal,onDriveClick:N.onDrive}),r.a.createElement(f.a,{container:!0},r.a.createElement(f.a,{item:!0,xs:12,lg:6},r.a.createElement("div",{className:t.wrapper},r.a.createElement("div",{className:t.container},r.a.createElement(B,{label:"Links",value:a,onChange:g})),r.a.createElement("div",{className:t.container},r.a.createElement(p.a,{variant:"outlined",color:"primary",className:t.button,onClick:w,disabled:!c},"Run"),r.a.createElement(p.a,{variant:"outlined",className:t.button,onClick:T},"Add"),r.a.createElement(p.a,{variant:"outlined",className:t.button,onClick:P},"Save"),r.a.createElement(p.a,{variant:"outlined",className:t.button,onClick:M},"Load")),o.map(function(e,n){return r.a.createElement(V,{key:n,className:t.container,value:e,onNameChange:A(n),onPatternChange:S(n),onItemChange:k(n),onCheck:E(n),onRemove:b(n),onTest:y(n)})}))),r.a.createElement(f.a,{item:!0,xs:12,lg:6},r.a.createElement("div",{className:t.wrapper},r.a.createElement("div",{className:t.container},r.a.createElement(B,{label:"Items container",value:l,onChange:O})),s!==ge.none&&r.a.createElement("div",{className:t.container},r.a.createElement(K,null,s===ge.show&&i.length>0&&i.map(function(e,t){return r.a.createElement("div",{key:t,dangerouslySetInnerHTML:{__html:e}})}),s===ge.test&&r.a.createElement(ce,{parameter:o[m.parameter],value:m.text}),s===ge.loading&&r.a.createElement(v.a,null)))))))}),ze=Object(l.b)(function(e){return e},function(e){return{menuHandler:function(t){return function(n){return e(Ae(t?n.currentTarget:null))}},authHandler:function(){return e(Ge())},linksChangeHandler:function(t){return e(ke(t.target.value))},containerChangeHandler:function(t){return e(_e(t.target.value))},runHandler:function(){return e(Ue())},parameterAddHandler:function(){return e(be())},parameterDeleteHandler:function(t){return function(){return e(Ne(t))}},parameterNameHandler:function(t){return function(n){return e(De(t,n.target.value))}},parameterPatternHandler:function(t){return function(n){return e(Pe(t,n.target.value))}},parameterItemHandler:function(t){return function(n){return e(Me(t,n.target.value))}},parameterCheckHandler:function(t){return function(n){return function(a,r){return e(Ie(t,n))}}},parameterTestHandler:function(t){return function(){return e((n=t,function(e,t){var a=t(),r=a.api,o=a.links;if(0!==o.length){e(Le(ge.loading));var l=o.split("\n")[0];return r.fetch(l).then(function(e){return e.result.response.result}).then(function(t){e(Ce({text:t,parameter:n})),e(Le(ge.test))})}e(je(["No links"])),e(Le(ge.show))}));var n}},authorize:function(){return e(Ge())},openDialog:function(t,n){return function(){e(Se(!0)),e(function(e,t){return{type:ve,onLocal:e,onDrive:t}}(t,n))}},closeDialog:function(){return e(Se(!1))},loadData:function(t){return e(Te(t))}}})(Be);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Fe=n(17),qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LINKS":return t.payload;default:return e}},Je=n(50),Ve=function(e,t){switch(t.type){case"TOGGLE_FLAG":return Object(Fe.a)({},e,Object(Je.a)({},t.payload,!e[t.payload]));default:return e}},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"Parameter",pattern:"",item:"",flags:{i:!0,g:!1,m:!1,s:!1}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PARAMETER_NAME":return Object(Fe.a)({},e,{name:t.payload});case"SET_PARAMETER_PATTER":return Object(Fe.a)({},e,{pattern:t.payload});case"SET_PARAMETER_ITEM":return Object(Fe.a)({},e,{item:t.payload});case"TOGGLE_FLAG":return Object(Fe.a)({},e,{flags:Ve(e.flags,t)});default:return e}},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PARAMETER":return[].concat(Object(te.a)(e),[Ke(void 0,t)]);case"DEL_PARAMETER":return e.filter(function(e,n){return n!==t.payload});case"SET_PARAMETER_NAME":case"SET_PARAMETER_PATTER":case"SET_PARAMETER_ITEM":case"TOGGLE_FLAG":return e.map(function(e,n){return n===t.id?Ke(e,t):e});default:return e}},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:"",parameter:-1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TEST":return t.payload;default:return e}},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CONTAINER":return t.payload;default:return e}},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_RESULT":return t.payload;default:return e}},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.payload;default:return e}},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_STATUS":return t.payload;default:return e}},tt=n(122),nt=n(121),at={apiKey:"AIzaSyA0rvMrNVWVhm8HNd56eY64OXhVEVIxqlQ",clientId:"169025190639-ktoqejmqod0hcfh8pbt7hknbg8apfps9.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/script.external_request",discoveryDocs:["https://script.googleapis.com/$discovery/rest?version=v1"]},rt=function(e){function t(e){return Object(Q.a)(this,t),Object($.a)(this,Object(X.a)(t).call(this,at,e))}return Object(Z.a)(t,e),Object(Y.a)(t,[{key:"fetch",value:function(e){var n={function:"fetch",parameters:[e],devMode:!1};return Object(tt.a)(Object(X.a)(t.prototype),"execute",this).call(this,function(e){return{root:"https://script.googleapis.com",path:"v1/scripts/M1qUJ-bECOgm4Y9z9evwE5gNpR_a-QLCI:run",method:"POST",body:e}}(n))}}]),t}(nt.a),ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_API":return new rt(t.payload);default:return e}},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ANCHOR":return t.payload;default:return e}},ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{open:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MODAL":return Object(Fe.a)({},e,{open:t.payload});case ve:var n=t.onLocal,a=t.onDrive;return Object(Fe.a)({},e,{onLocal:n,onDrive:a});default:return e}},it=Object(o.c)({api:ot,anchor:lt,modal:ct,user:Ze,links:qe,parameters:Qe,test:Ye,container:$e,result:Xe,status:et}),ut=Object(i.createLogger)(),st=Object(o.d)(function(e,t){switch(t.type){case"LOAD_STATE":return Object(Fe.a)({},e,t.payload);default:return it(e,t)}},Object(o.a)(c.a,ut));s.a.render(r.a.createElement(l.a,{store:st},r.a.createElement(ze,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[123,2,1]]]);
//# sourceMappingURL=main.83672de3.chunk.js.map